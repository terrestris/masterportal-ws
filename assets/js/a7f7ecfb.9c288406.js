"use strict";(self.webpackChunkmasterportal_ws_2=self.webpackChunkmasterportal_ws_2||[]).push([[690],{1371:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"exercises/search","title":"Konfiguration der Suche \ud83d\udd0d","description":"Es lassen sich verschiedene SearchInterfaces anbinden, diese lassen sich beliebig konfigurieren!","source":"@site/docs/exercises/02-search.md","sourceDirName":"exercises","slug":"/exercises/search","permalink":"/masterportal-ws/exercises/search","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Allgemeine Konfiguration","permalink":"/masterportal-ws/exercises/general"},"next":{"title":"Addons","permalink":"/masterportal-ws/addons/"}}');var i=s(4848),c=s(8453);const t={},o="Konfiguration der Suche \ud83d\udd0d",l={},a=[{value:"Weitere SearchInterfaces / Such Tools",id:"weitere-searchinterfaces--such-tools",level:2},{value:"WFS Search",id:"wfs-search",level:3},{value:"ElasticSearch",id:"elasticsearch",level:3},{value:"SpecialWFS",id:"specialwfs",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"konfiguration-der-suche-",children:"Konfiguration der Suche \ud83d\udd0d"})}),"\n",(0,i.jsxs)(n.p,{children:["Es lassen sich verschiedene ",(0,i.jsx)(n.a,{href:"https://www.masterportal.org/mkdocs/doc/Latest/User/Portal-Config/config.json/#portalconfigmenusearchbarsearchinterfaces",children:"SearchInterfaces"})," anbinden, diese lassen sich beliebig konfigurieren!"]}),"\n",(0,i.jsx)(n.p,{children:"Sinnvoll ist h\xe4ufig:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"visibleVector"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"topicTree"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"komoot"})," / ",(0,i.jsx)(n.code,{children:"nominatim"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"specialWfs"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Aufgabe 1:"})," Es sollen alle sichtbaren Vektorlayer durchsucht werden k\xf6nnen. Man soll die Krankenh\xe4user in M\xfcnster anhand des Namens (Attribut: ",(0,i.jsx)(n.code,{children:"NAME"}),") durchsuchen k\xf6nnen."]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Hinweis"}),(0,i.jsx)(n.p,{children:"Stichwort f\xfcr die Hilfe:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"searchField (config.json / services.json)"}),"\n"]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Aufgabe 2:"})," Beim Klick auf einen Suchtreffer der obigen Suche, soll auf das Ergebnis gezoomt werden und das ",(0,i.jsx)(n.strong,{children:"GetFeatureInfo"})," Fenster ge\xf6ffnet werden."]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Hinweis"}),(0,i.jsxs)(n.p,{children:["Result Events: ",(0,i.jsx)(n.a,{href:"https://www.masterportal.org/mkdocs/doc/Latest/User/Portal-Config/config.json/#portalconfigmenusearchbarsearchinterfacesresultevents",children:"https://www.masterportal.org/mkdocs/doc/Latest/User/Portal-Config/config.json/#portalconfigmenusearchbarsearchinterfacesresultevents"})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Aufgabe 3:"})," Es soll eine Konfiguration f\xfcr ein Gazeetteer erstellt werden. Hierf\xfcr nutzen wir die ",(0,i.jsx)(n.a,{href:"https://photon.komoot.io/",children:"Komoot API"}),", die einen schnellen Zugriff auf OSM Daten erm\xf6glicht."]}),"\n",(0,i.jsxs)(n.p,{children:["Definieren Sie zun\xe4chst folgenden Block in der ",(0,i.jsx)(n.code,{children:"rest-services-internet.json"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "id" : "1",\n    "name" : "Komoot Photon Suche",\n    "url" : "https://photon.komoot.io/api/?",\n    "typ" : "WFS"\n  },\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Anschlie\xdfend muss in der ",(0,i.jsx)(n.code,{children:"config.json"})," im Block ",(0,i.jsx)(n.code,{children:"searchbar"})," folgender Block definiert werden:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"searchBar": {\n    "komoot": {\n    "minChars": 3,\n    "serviceId": "1",\n    "limit": 20,\n    "lang": "de",\n    "lat": 52.3879,\n    "lon": 13.0582,\n    "bbox": "13.13, 52.27, 13.64, 52.70"\n    },\n    "startZoomLevel": 9,\n    "placeholder": "Suche nach: - Adressen"\n},\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Aufgabe 4:"})," Es sollen nur Stra\xdfen durchsucht werden, f\xfcgen Sie einen entsprechenden Parameter hinzu."]}),"\n",(0,i.jsxs)("detail",{children:[(0,i.jsx)("summary",{children:"Hinweis"}),(0,i.jsxs)(n.p,{children:["Schauen Sie in der ",(0,i.jsx)(n.code,{children:"config.json.md"})," im Abschnitt ",(0,i.jsx)(n.code,{children:"Portalconfig.searchBar.komoot"})," nach Filterung f\xfcr OSM Tags. Weiter Infos: ",(0,i.jsx)(n.a,{href:"https://github.com/komoot/photon",children:"https://github.com/komoot/photon"}),"."]})]}),"\n",(0,i.jsx)(n.h2,{id:"weitere-searchinterfaces--such-tools",children:"Weitere SearchInterfaces / Such Tools"}),"\n",(0,i.jsx)(n.h3,{id:"wfs-search",children:"WFS Search"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"eigenst\xe4ndiges Tool, z.B. sinnvoll f\xfcr Flurst\xfccksuchen"}),"\n",(0,i.jsxs)(n.li,{children:["WFS 2.0: ",(0,i.jsx)(n.code,{children:"storedQuery"}),". ",(0,i.jsx)(n.a,{href:"https://www.weichand.de/2011/11/30/wfs-2-0-abfragen-queries/",children:"Hilfreiche Informationen"})]}),"\n",(0,i.jsxs)(n.li,{children:["siehe Rechtes Men\xfc auf ",(0,i.jsx)(n.a,{href:"https://geoportal.meckenheim.de",children:"https://geoportal.meckenheim.de"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"elasticsearch",children:"ElasticSearch"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Backend notwendig"}),"\n",(0,i.jsxs)(n.li,{children:["Sehr performante ",(0,i.jsx)(n.strong,{children:"indizierte"})," Suche"]}),"\n",(0,i.jsx)(n.li,{children:"Anwendungsf\xe4lle: Mehrere Sucht\xf6pfe, deren Ergebnisse zeitgleich kommen sollen (Scoring m\xf6glich)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"specialwfs",children:"SpecialWFS"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"WFS Suche mit der zentralen Searchbar (kein eigenst\xe4ndiges Tool)"}),"\n",(0,i.jsx)(n.li,{children:"Vorteil: Der zu durchsuchende Layer muss nicht im Layerbaum sein"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(6540);const i={},c=r.createContext(i);function t(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);